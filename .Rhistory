setwd('Documents/research/viz_explore/')
library(readr)
library(dplyr)
library(purrr)
library(ggplot2)
list.files(path = 'data/', pattern = 'm1e-2_mu1e-6_r1e-6_sigsqr5_genome')
list.files(path = 'data/', pattern = 'm1e-2_mu1e-6_r1e-6_sigsqr5_genome*')
list.files(path = 'data/run20191018_193353', pattern = 'm1e-2_mu1e-6_r1e-6_sigsqr5_genome*')
list.files(path = 'data/run20191018_193353', pattern = 'm1e-2_mu1e-6_r1e-6_sigsqr5_genome*', full.names = T)
fs <- list.files(path = 'data/run20191018_193353',
pattern = 'm1e-2_mu1e-6_r1e-6_sigsqr5_genome*',
full.names = T)
map(fs, function(x){
read_delim(x, delim = ' ')
}) %>% reduct(bind_rows)
map(fs, function(x){
read_delim(x, delim = ' ')
}) %>% reduce(bind_rows)
fs_alleles <- list.files(path = 'data/run20191018_193353',
pattern = 'm1e-2_mu1e-6_r1e-6_sigsqr5_genome*',
full.names = T)
map(fs_alleles, function(x){
read_delim(x, delim = ' ')
}) %>% reduce(bind_rows)
alleles <- map(fs_alleles,
function(x){
read_delim(x, delim = ' ')
}) %>%
reduce(bind_rows)
alleles
(fs.alleles)
fs_alleles
index(fs_alleles)
map(fs_alleles, function(x,i){print(i)})
match(fs_alleles[1], fs_alleles)
alleles <- map(fs_alleles,
function(x){
read_delim(x, delim = ' ') %>%
mutate(genome = paste0('genome', match(x, fs_alleles)))
}) %>%
reduce(bind_rows)
alleles
fs_alleles <- list.files(path = 'data/run20191021_191200',
pattern = 'm1e-2_mu1e-6_r1e-6_sigsqr5_genome*',
full.names = T)
alleles <- map(fs_alleles,
function(x){
read_delim(x, delim = ' ') %>%
mutate(genome = paste0('genome', match(x, fs_alleles)))
}) %>%
reduce(bind_rows)
alleles
list.files()
list.files('data/run20191021_191200/')
phenotype <- read_delim("data/run20191021_191200/m1e-2_mu1e-6_r1e-6_sigsqr5_phenotypes")
phenotype <- read_delim("data/run20191021_191200/m1e-2_mu1e-6_r1e-6_sigsqr5_phenotypes", delim = ' ')
phenotype <- read_delim("data/run20191021_191200/m1e-2_mu1e-6_r1e-6_sigsqr5_phenotypes.txt", delim = ' ')
phenotype
alleles
alleles %>% group_by(mutation_id) %>% group_by(sum(select_coef))
alleles %>% group_by(mutation_id, rep, output_gen) %>% group_by(sum(select_coef))
alleles %>% group_by(mutation_id, rep, output_gen, position) %>% group_by(sum(select_coef))
alleles %>% group_by(mutation_id, rep, output_gen, position, ind_id) %>% group_by(sum(select_coef))
phenotype
alleles %>% group_by(mutation_id, rep, output_gen, ind_id) %>% group_by(sum(select_coef))
phenotype
alleles %>% filter(pop == 0 & ind_index == 0 & output_gen == 2500 & rep == 0)
alleles %>% filter(pop == 0 & ind_id == 0 & output_gen == 2500 & rep == 0)
alleles
alleles %>% filter(pop == 0 & ind_id == 0 & output_gen == 2500 & rep == " 0\")
)
\
)
/
\
'alskdf'
alleles %>% filter(pop == 0 & ind_id == 0 & output_gen == 2500 & rep == " 0")
alleles %>% group_by(rep, output_gen, ind_id) %>% group_by(sum(select_coef))
phenotype
alleles %>% filter(pop == 0 & ind_id == 0 & output_gen == 2500 & rep == " 0")
alleles %>% group_by(rep, output_gen, ind_id) %>% summarize(sum(select_coef))
-.140 + -.140
alleles %>% group_by(pop, rep, output_gen, ind_id) %>% summarize(sum(select_coef))
as.numeric(alleles$rep)
alleles <- map(fs_alleles,
function(x){
read_delim(x, delim = ' ') %>%
mutate(
rep = as.numeric(rep),
genome = paste0('genome', match(x, fs_alleles))
)
}) %>%
reduce(bind_rows)
alleles
mutation <- read_delim("data/run20191021_191200/m1e-2_mu1e-6_r1e-6_sigsqr5_mutations.txt", delim = ' ')
mutation
alleles
alleles %>% group_by(pop, position, output_gen) %>% summarize(sum(select_coef))
alleles %>% group_by(pop, position, output_gen) %>% summarize(sum(select_coef)) %>% filter(position == 4310001)
alleles %>% group_by(pop, position, output_gen, rep) %>% summarize(sum(select_coef)) %>% filter(position == 4310001)
alleles %>% group_by(pop, position, output_gen, rep) %>% summarize(sum(select_coef)) %>% filter(position == 800001)
alleles %>% filter(position == 800001 & pop == 0 & output_gen == 2500 & rep == 0)
mutation
alleles %>% filter(position == 1362501 & pop == 0 & output_gen == 2500 & rep == 0)
16/200
devtools::install_github("rstudio/r2d3")
r2d3::r2d3("bar.js", data=c(0.3, 0.6, 0.8, 0.95, 0.40, 0.20))
r2d3::r2d3("bar.js", data=c(0.3, 0.6, 0.8, 0.95, 0.40, 0.20))
jsonlite::read_json("flare.json")
library(readr)
library(dplyr)
library(purrr)
library(ggplot2)
fs_alleles <- list.files(path = 'data/run20191021_191200',
pattern = 'm1e-2_mu1e-6_r1e-6_sigsqr5_genome*',
full.names = T)
alleles <- map(fs_alleles,
function(x){
read_delim(x, delim = ' ') %>%
mutate(
rep = as.numeric(rep),
genome = paste0('genome', match(x, fs_alleles))
)
}) %>%
reduce(bind_rows)
phenotype <- read_delim("data/run20191021_191200/m1e-2_mu1e-6_r1e-6_sigsqr5_phenotypes.txt", delim = ' ')
mutation <- read_delim("data/run20191021_191200/m1e-2_mu1e-6_r1e-6_sigsqr5_mutations.txt", delim = ' ')
mutation
mutation %>% View()
mutation %>% summarize(p1 = sum(p1_freq), p2 = sum(p2_freq)) %>% mutate(p1 -p2)
mutation %>% summarize(p1 = mean(p1_freq), p2 = mean(p2_freq)) %>% mutate(p1 -p2)
alleles
fs_alleles <- list.files(path = 'data/run20191022_174414/',
pattern = 'm1e-2_mu1e-6_r1e-6_sigsqr5_genome*',
full.names = T)
alleles <- map(fs_alleles,
function(x){
read_delim(x, delim = ' ') %>%
mutate(
rep = as.numeric(rep),
genome = paste0('genome', match(x, fs_alleles))
)
}) %>%
reduce(bind_rows)
phenotype <- read_delim("data/run20191022_174414//m1e-2_mu1e-6_r1e-6_sigsqr5_phenotypes.txt", delim = ' ')
mutation <- read_delim("data/run20191022_174414//m1e-2_mu1e-6_r1e-6_sigsqr5_mutations.txt", delim = ' ')
alleles
fullgenome <- read_delim("data/run20191022_174414/m1e-2_mu1e-6_r1e-6_sigsqr5_fullgenome.txt", delim = ' ')
fullgenome
r2d3::as_d3_data(fullgenome)
jsonlite::toJSON(fullgenome)
r2d3::r2d3("supplementals/chrome_play.js", data=c(0.3, 0.6, 0.8, 0.95, 0.40, 0.20))
r2d3::r2d3("supplementals/chrome_play.js", data=c(0.3, 0.6, 0.8, 0.95, 0.40, 0.20))
r2d3::r2d3("supplementals/chrome_play.js", data=c(1, 2))
r2d3::r2d3("supplementals/chrome_play.js", data=c(1, 2))
r2d3::r2d3("supplementals/chrome_play.js", data=c(1, 2))
r2d3::r2d3("supplementals/chrome_play.js", data=c(1, 2))
r2d3::r2d3("supplementals/chrome_play.js", data=c(1, 2))
r2d3::r2d3("supplementals/chrome_play.js", data=c(1, 2))
r2d3::r2d3("supplementals/chrome_play.js", data=c(1, 2))
r2d3::r2d3("supplementals/chrome_play.js", data=c(1, 2))
r2d3::r2d3("supplementals/chrome_play.js", data=c(1, 2))
r2d3::r2d3("supplementals/chrome_play.js", data=c(1, 2))
r2d3::r2d3("supplementals/chrome_play.js", data=c(1, 2))
r2d3::r2d3("supplementals/chrome_play.js", data=c(1, 2))
r2d3::r2d3("supplementals/chrome_play.js", data=c(1, 2))
r2d3::r2d3("supplementals/chrome_play.js", data=c(1, 2))
r2d3::r2d3("supplementals/chrome_play.js", data=c(1, 2))
r2d3::r2d3("supplementals/chrome_play.js", data=c(1, 2))
r2d3::r2d3("supplementals/chrome_play.js", data=c(1, 2))
r2d3::r2d3("supplementals/chrome_play.js", data=c(1, 2))
r2d3::r2d3("supplementals/chrome_play.js", data=c(1, 2))
r2d3::r2d3("supplementals/chrome_play.js", data=c(1, 2))
r2d3::as_d3_data(fullgenome)
r2d3::r2d3("supplementals/chrome_play.js")
r2d3::r2d3(script = "supplementals/chrome_play.js")
r2d3::r2d3(script = "supplementals/chrome_play.js")
r2d3::r2d3(script = "supplementals/chrome_play.js")
r2d3::r2d3(script = "supplementals/chrome_play.js")
fs_alleles <- list.files(path = 'data/run20191022_174414/',
pattern = 'm1e-2_mu1e-6_r1e-6_sigsqr5_genome*',
full.names = T)
alleles <- map(fs_alleles,
function(x){
read_delim(x, delim = ' ') %>%
mutate(
rep = as.numeric(rep),
genome = paste0('genome', match(x, fs_alleles))
)
}) %>%
reduce(bind_rows)
alleles
alleles %>%
filter(ind_id == 0 & output_gen == 2500)
fullgenome <- read_delim("data/run20191022_174414/m1e-2_mu1e-6_r1e-6_sigsqr5_fullgenome.txt", delim = ' ')
fullgenome
alleles <- map(fs_alleles,
function(x){
read_delim(x, delim = ' ') %>%
mutate(
rep = as.numeric(rep),
genome = paste0('genome', match(x, fs_alleles))
) %>%
right_join(select(fullgenome, -genome))
}) %>%
reduce(bind_rows)
alleles
alleles %>%
filter(ind_id == 0 & output_gen == 2500)
alleles %>%
filter(pop == 0, ind_id == 0 & output_gen == 2500)
fullgenome <- read_delim("data/run20191022_174414/m1e-2_mu1e-6_r1e-6_sigsqr5_fullgenome.txt", delim = ' ')
alleles <- map(fs_alleles,
function(x){
read_delim(x, delim = ' ') %>%
mutate(
rep = as.numeric(rep),
genome = paste0('genome', match(x, fs_alleles))
) %>%
right_join(select(fullgenome, -genome))
}) %>%
reduce(bind_rows)
alleles
alleles <- map(fs_alleles,
function(x){
read_delim(x, delim = ' ') %>%
mutate(
rep = as.numeric(rep),
genome = paste0('genome', match(x, fs_alleles))
) %>%
full_join(select(fullgenome, -genome))
}) %>%
reduce(bind_rows)
alleles %>%
filter(pop == 0, ind_id == 0 & output_gen == 2500)
alleles <- map(fs_alleles,
function(x){
read_delim(x, delim = ' ') %>%
mutate(
rep = as.numeric(rep),
genome = paste0('genome', match(x, fs_alleles))
)
}) %>%
reduce(bind_rows)
alleles %>%
filter(pop == 0, ind_id == 0 & output_gen == 2500)
alleles %>% group_by(pop, ind_id, genome) %>% right_join(select(fullgenome, -genome))
alleles %>% group_by(pop, ind_id, genome) %>% right_join(select(fullgenome, -genome)) %>% complete()
alleles %>% group_by(pop, ind_id, genome) %>% right_join(select(fullgenome, -genome)) %>% tidyr::complete()
alleles %>% group_by(pop, ind_id, genome) %>% left_join(select(fullgenome, -genome)) %>%
)
alleles %>% group_by(pop, ind_id, genome) %>% left_join(select(fullgenome, -genome))
alleles
alleles %>% group_by(pop, ind_id, genome) %>% full_join(select(fullgenome, -genome))
alleles %>% group_by(pop, ind_id, genome) %>% right_join(select(fullgenome, -genome)) %>% do(tidyr::complete(., fill = list(pop = .$pop, genome = .$genome, ind_id = .$ind_id)))
alleles
alleles %>% right_join(select(fullgenome, -genome))
alleles %>% right_join(select(fullgenome, -genome)) %>% group_by(pop, ind_id, output_gen) %>% expand(pop, ind_id, output_gen)
alleles %>% right_join(select(fullgenome, -genome)) %>% group_by(pop, ind_id, output_gen) %>% tidyr::expand(pop, ind_id, output_gen)
alleles %>%
filter(pop == 0, ind_id == 0 & output_gen == 2500)
alleles %>%
filter(pop == 0, ind_id == 0 & output_gen == 2500) %>% right_join(select(fullgenome, -genome))
library(tidyr)
alleles %>%
filter(pop == 0, ind_id == 0 & output_gen == 2500) %>% right_join(select(fullgenome, -genome)) %>%
complete(pop, ind_id, ouputgen)
alleles %>%
filter(pop == 0, ind_id == 0 & output_gen == 2500) %>% right_join(select(fullgenome, -genome)) %>%
complete(pop, ind_id, output_gen)
fullgenome
r2d3(script = "supplementals/chrome_play.js", data = fullgenome)
library(r2d3)
r2d3(script = "supplementals/chrome_play.js", data = fullgenome)
r2d3(script = "supplementals/chrome_play.js", data = fullgenome)
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome))
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome))
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome))
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome))
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome))
jsonlite::toJSON(fullgenome)
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
r2d3(script = "supplementals/chrome_play.js", data = jsonlite::toJSON(fullgenome), viewer = "browser")
